# This is a Python f-string containing the prompt for the language model.
# The variables {problem}, {final_status}, and {iteration_history}
# would be populated by your Python script before sending the request to the AI.

prompt = f"""
You are an expert scientific author and LaTeX specialist. Generate a complete and compilable `.tex` file in Chinese based on the provided data.

**Instructions:**
- Your entire output must be **ONLY** the raw LaTeX source code.
- Start the code with `\\documentclass{{article}}`.
- End the code with `\\end{{document}}`.
- Do not include any other text, explanations, or markdown wrappers.

**LaTeX Document Structure:**

1.  **Preamble**:
    * Document Class: `article`
    * Required Packages: `ctex`, `amsmath`, `amssymb`, `geometry`, `graphicx`, `listings`, `xcolor`, `verbatim`, `fancyhdr`, `hyperref`.

2.  **Title Block**:
    * Title: `\\title{{\\textbf{{关于一个数学问题的自动化验证形式化报告}}}}`
    * Author: `\\author{{由 Mathmatica AI 生成}}`
    * Date: `\\date{{\\today}}`
    * Command: `\\maketitle`

3.  **Body**:
    * **Abstract**: Write a brief abstract in Chinese summarizing the problem, methodology, and outcome from the input data.
    * **Section 1**: `\\section*{{第一章: 问题描述}}`
        * Content: The provided "Problem Statement".
    * **Section 2**: `\\section*{{第二章: 验证过程与迭代历史}}`
        * Introduction: Briefly explain the iterative verification process in Chinese.
        * For each iteration in the "Iteration History":
            * Create a `\\subsection*{{迭代 X}}`.
            * Inside, create three `\\subsubsection*`:
                1.  `{{理论方案}}`: The solution attempt.
                2.  `{{理论验证}}`: The theoretical report.
                3.  `{{计算验证}}`:
                    * Use a `lstlisting` environment for any Python code.
                    * Use a `verbatim` environment for the Python output or error.
                    * If `image_text` exists, parse the filename from it (e.g., from "[Image... iteration_1_plot.png]") and insert this command: `\\includegraphics[width=0.8\\textwidth]{{parsed_filename.png}}`.
    * **Section 3**: `\\section*{{第三章: 结论}}`
        * Content: A concluding paragraph in Chinese based on the "Final Status".


**Input Data to Use:**

* **Problem Statement**: {problem}
* **Final Status**: {final_status}
* **Iteration History**: {iteration_history}
"""